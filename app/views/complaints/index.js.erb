<% if @step.present? %>
  var step = jQuery('.step');
  const container = jQuery('form');
  step.removeClass('hidden-transition');
  step.addClass('hidden-transition');
  container.removeClass('container-transition');
  container.addClass('container-transition');
  //setTimeout(function () {
  //  step.addClass('hidden');
  //}, 2000);
  console.log("VAAAAA STEP", <%= @step %>);
  <% if @step > 2 %>
    jQuery('#steps').append('<%= escape_javascript(render partial: "steps") %>');
  <% else %>
    email = jQuery('#complaint_email').val();
    tyc = jQuery('#terms').is(':checked');
    var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    if ( !tyc ) {
      jQuery('#tyc-error').removeClass('hidden');
    }
    if ( !regex.test(email) ) {
      jQuery('#email-error').removeClass('hidden');
    }
    if ( regex.test(email) && tyc ) {
      jQuery('#step-2').removeClass('hidden');
      //jQuery('#step-1').addClass('hidden');
    }
    else {
      jQuery('#step-1').removeClass('hidden');
    }
  <% end %>
<% end %>
